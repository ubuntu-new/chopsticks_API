<div class="row">

    <div class="col-5 mt-2">
        <div class="sidebar-content">
            <div class="row">
                <div class="col-10">
                    <div class="vcard text-right">
                        <p class="fn">
                            <a class="url" href="#">
                                <svg class="bi bi-emoji-smile-upside-down" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M8 1a7 7 0 1 1 0 14A7 7 0 0 1 8 1zm0-1a8 8 0 1 1 0 16A8 8 0 0 1 8 0z"/>
                                    <path fill-rule="evenodd" d="M4.285 6.433a.5.5 0 0 0 .683-.183A3.498 3.498 0 0 1 8 4.5c1.295 0 2.426.703 3.032 1.75a.5.5 0 0 0 .866-.5A4.498 4.498 0 0 0 8 3.5a4.5 4.5 0 0 0-3.898 2.25.5.5 0 0 0 .183.683z"/>
                                    <path d="M7 9.5C7 8.672 6.552 8 6 8s-1 .672-1 1.5.448 1.5 1 1.5 1-.672 1-1.5zm4 0c0-.828-.448-1.5-1-1.5s-1 .672-1 1.5.448 1.5 1 1.5 1-.672 1-1.5z"/>
                                </svg>
                                <strong>Mr. Webertela.Online</strong>
                            </a>

                        <p>
                        <p class="adr">
                            <span class="postal-code">0160,</span>
                            <span class="street-address">215 Nustrubidze str.</span><br>
                            <span class="region">Tbilisi,</span>
                            <span class="country-name">Georgia.</span>
                        </p>
                        <p> <span class="tel">+995 577 230988</span></p>
                    </div>
                </div>

                <div class="col-2">
                    <button data-toggle="modal" data-target="#Pos_addCustomer">Add user</button>
                </div>
            </div>
            <hr>
            <div class="row m-1" style="max-height:300px; overflow: auto; overflow-x: hidden">
                <div class="col-12">
                    <div class="row">
                        <div class="col-1"><strong>Qty</strong></div>
                        <div class="col-7"><strong>Descriprion</strong></div>
                        <div class="col-2"><strong>Price</strong></div>
                        <div class="col-2"><strong>Subtotal</strong></div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-8 text-right">
                            <strong>1 XL Papa Ronney/Supreme</strong>
                        </div>
                        <div class="col-2">2</div>
                        <div class="col-2">2</div>
                    </div>
                    <div class="row mt-1">
                        <div class="col-8 text-right">
                            <strong>1 M 4X4</strong>
                        </div>
                        <div class="col-2">2</div>
                        <div class="col-2">2</div>
                    </div>
                    <div class="row mt-1">
                        <div class="col-8 text-right">
                            <strong>1 M 4X4</strong>
                        </div>
                        <div class="col-2">2</div>
                        <div class="col-2">2</div>
                    </div>
                    <div class="row mt-1">
                        <div class="col-8 text-right">
                            <strong>1 M 4X4</strong>
                        </div>
                        <div class="col-2">2</div>
                        <div class="col-2">2</div>
                    </div>
                    <div class="row mt-1">
                        <div class="col-8 text-right">
                            <strong>1 M 4X4</strong>
                        </div>
                        <div class="col-2">2</div>
                        <div class="col-2">2</div>
                    </div>
                    <div class="row mt-1">
                        <div class="col-8 text-right">
                            <strong>1 M 4X4</strong>
                        </div>
                        <div class="col-2">2</div>
                        <div class="col-2">2</div>
                    </div>
                    <div class="row mt-1">
                        <div class="col-8 text-right">
                            <strong>1 M 4X4</strong>
                        </div>
                        <div class="col-2">2</div>
                        <div class="col-2">2</div>
                    </div>
                    <div class="row mt-1">
                        <div class="col-8 text-right">
                            <strong>1 M 4X4</strong>
                        </div>
                        <div class="col-2">2</div>
                        <div class="col-2">2</div>
                    </div>
                </div>
            </div>

            <hr>

            <div class="row m-1">
                <div class="col-12">
                    <div class="row mt-3">
                        <div class="col-10"><h3>Total:</h3></div>
                        <div class="col-2"><h3>39.40</h3></div>
                    </div>
                    <div class="row mt-1">
                        <div class="col-10 text-right"><strong>Tax:</strong></div>
                        <div class="col-2 text-left"><strong>36</strong></div>
                    </div>
                    <div class="row mt-1">
                        <div class="col-10 text-right"><strong>Net:</strong></div>
                        <div class="col-2 text-left"><strong>36</strong></div>
                    </div>

                </div>
            </div>

        </div>
    </div>
    <div class="col-7 mt-2">
        <div class="row">
            <div class="col gray m-1"><spa>Logged user</spa></div>
            <div class="col gray m-1"><spa>POS Vake</spa></div>
            <div class="col gray m-1"><spa>Till open</spa></div>
            <div class="col gray m-1"><spa>Tue. May 19 2020</spa></div>
        </div>
        <div class="row">
            <div class="col-12">
                <div class="row mt-1">
                    <div class="col w-1 ">
                        <a href="constructor.html">
                            <p class="text-left">
                                                        <span >
                                                            <strong> #2253</strong>
                                                        </span>
                            </p>
                            <p>
                                                        <span>
                                                            <strong>12:15</strong>
                                                        </span>
                            </p>
                        </a>
                    </div>
                    <div class="col w-1 gray">
                        <p class="text-left">
                                                    <span >
                                                        <strong>#2254</strong>
                                                    </span>
                        </p>
                        <p>
                                                    <span>
                                                        <strong>12:17</strong>
                                                    </span>
                        </p>
                    </div>
                    <div class="col w-1 gray"><span>+<br></span></div>
                </div>
            </div>
        </div>
        <table class="w-100">
            <tr>
                <td>
                    <table class="table" cellpadding="0" cellspacing="0">
                        <tr>
                            <td>
                                <a href="">
                                    <div class="w-b-1-circle float-left"><span>0</span></div>
                                </a>
                                <div class="w-b-1-circle float-left  "><span>1</span></div>
                                <div class="w-b-1-circle float-left active "><span>2</span></div>
                                <div class="w-b-1-circle float-left "><span>3</span></div>
                                <div class="w-b-1-circle float-left "><span>4</span></div>
                                <div class="w-b-1-circle float-left "><span>5</span></div>
                                <div class="w-b-1-circle float-left "><span>6</span></div>
                                <div class="w-b-1-circle float-left "><span>7</span></div>
                                <div class="w-b-1-circle float-left "><span>8</span></div>
                                <div class="w-b-1-circle float-left "><span>9</span></div>
                            </td>
                        </tr>
                    </table>
                    <table class="table" cellpadding="0" cellspacing="0">
                        <tr>
                            <td>
                                <div class="w-b-1 green square active">
                                    <span class="position-relative" style="top: 12px;"><strong>Pizza</strong></span>
                                </div>
                                <div class="w-blue-1 square active">
                                    <a  data-toggle="modal" data-target="#Pos_First">  <span class="position-relative " style="top: 10px;"><strong>P R</strong></span></a>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square active">
                                    <span class="position-relative" style="top: 10px;"><strong>Supreme</strong></span>
                                </div>
                                <div class="w-b-1 square">
                                    <span class="position-relative" style="top: 16px;"><strong>A</strong></span>
                                </div>
                            </td>
                            <td>
                                <div class="w-b-1 green square">
                                    <span class="position-relative" style="top: 16px;"><strong>Extras</strong></span>
                                </div>
                                <div class="w-blue-1 square active">
                                    <a  data-toggle="modal" data-target="#Pos_First">  <span class="position-relative " style="top: 10px;"><strong>P R</strong></span></a>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square active">
                                    <span class="position-relative" style="top: 10px;"><strong>Supreme</strong></span>
                                </div>
                                <div class="w-b-1 square">
                                    <span class="position-relative" style="top: 16px;"><strong>B</strong></span>
                                </div>
                            </td>
                            <td>
                                <div class="w-b-1 green square">
                                    <span class="position-relative" style="top: 16px;"><strong>Drinks</strong></span>
                                </div>
                                <div class="w-blue-1 square active">
                                    <a  data-toggle="modal" data-target="#Pos_First">  <span class="position-relative " style="top: 10px;"><strong>P R</strong></span></a>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square active">
                                    <span class="position-relative" style="top: 10px;"><strong>Supreme</strong></span>
                                </div>
                                <div class="w-b-1 square">
                                    <a  href="constructor.html"> <span class="position-relative" style="top: 16px;"><strong>A/B</strong></span></a>
                                </div>
                            </td>

                            <td>
                                <div class="w-b-1 green square">
                                    <span class="position-relative" style="top: 16px;"><strong>Combos</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-e-1 square">
                                    <span class="position-relative" style="top: 16px;"><strong>-</strong></span>
                                </div>
                            </td>
                            <td>
                                <div class="w-e-1 square">
                                    <span class="position-relative" style="top: 16px;"><strong>-</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-e-1 square">
                                    <span class="position-relative" style="top: 16px;"><strong>-</strong></span>
                                </div>
                            </td>
                            <td>
                                <div class="w-e-1 square">
                                    <span class="position-relative" style="top: 16px;"><strong>-</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-b-1 square">
                                    <span class="position-relative" style="top: 16px;"><strong>Pos sett</strong></span>
                                </div>
                            </td>
                            <td>
                                <div class="w-e-1 square">
                                    <span class="position-relative" style="top: 16px;"><strong>-</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-b-1 square">
                                    <span class="position-relative" style="top: 16px;"><strong>Daefts</strong></span>
                                </div>
                            </td>
                            <td>
                                <div class="w-e-1 square">
                                    <span class="position-relative" style="top: 16px;"><strong>-</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 16px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 squar">
                                    <span class="position-relative" style="top: 16px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 squar">
                                    <span class="position-relative" style="top: 16px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 squar">
                                    <span class="position-relative" style="top: 16px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 squar active">
                                    <span class="position-relative" style="top: 16px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-litegreen-1 square">
                                    <span class="position-relative"  data-toggle="modal" data-target="#exampleModal"  style="top: 16px;"><strong>Invoice</strong></span>
                                </div>
                            </td>
                            <td>
                                <div class="w-e-1 square">
                                    <span class="position-relative" style="top: 16px;"><strong>-</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-blue-1 square">
                                    <span class="position-relative" style="top: 10px;"><strong>P R</strong></span>
                                </div>
                                <div class="w-e-1 square">
                                    <span class="position-relative" style="top: 16px;"><strong>-</strong></span>
                                </div>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
    </div>

</div>


<?php

use app\models\Pcategory;
use app\models\Products;
use Automattic\WooCommerce\Client;

$woocommerce = new Client(
    'https://www.ronnyspizza.com',
    'ck_a696a04e96b0b1caaacefdd947395303ee8b6f69',
    'cs_b49750d7d0d4b680527c07993e2bd006afeb56a8',
    [
        'version' => 'wc/v3',
    ]
);

$data = [
    'parent' => 0
];

$categories = $woocommerce->get("products/categories", $data);

foreach ($categories as $category) {

    $pcat = Pcategory::find()->where(['name'=>$category->name])->one();
    if (!$pcat) {
        $p_cat = new Pcategory();
        $p_cat->name = $category->name;
        $p_cat->w_id = $category->id;
        $p_cat->save();
    }
    echo $category->name." - ".$category->id."<br>";
}


$data = [
    'per_page' => 70

];


$produts = $woocommerce->get("products",$data);

echo "------<br><br><pre>";

foreach ($produts as $p) {

    $product_f = Products::find()->where(["name"=>$p->name])->one();

    if (!$product_f) {

        $p_cat = Pcategory::find()->where(["name"=>$p->categories[0]->name])->one();

        $prod = new Products();
        $prod->name = $p->name;
        $prod->price = $p->price;
        $prod->w_id = $p->id;
        $prod->category_id = $p_cat?$p_cat->id:1;
        $prod->category_name = $p_cat?$p_cat->name:"Drinks";
        $prod->w_id = $p->id;

        $prod->save();
    }

    print_r($p->name."----".$p->categories[0]->name."<br>");
}

echo "</pre><pre>";
print_r($produts);
echo "</pre>";

?>


